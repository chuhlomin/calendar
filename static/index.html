<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Calendar</title>
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="colr_pickr.min.css">

<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=0.5, maximum-scale=1.0, user-scalable=yes" />
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#e7ebee">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1e1f2b">
<link rel="manifest" href="/manifest.json">

<link rel="alternate icon" type="image/png" href="favicon.png">
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<!-- OpenGraph Card -->
<meta property="og:image" content="https://cal.chuhlomin.com/og.png">
<meta property="og:image:width" content="1920">
<meta property="og:image:height" content="960">
<meta property="og:type" content="website">
<meta property="og:title" content="Calendar">
<meta property="og:url" content="https://cal.chuhlomin.com">
<meta property="og:description" content="Calendar PDF generator">
<!-- Twitter Card -->
<meta name="twitter:url" content="https://cal.chuhlomin.com">
<meta name="twirrer:domain" content="cal.chuhlomin.com">
<meta name="twitter:title" content="Calendar">
<meta name="twitter:description" content="Calendar PDF generator">
<meta name="twitter:image" content="https://cal.chuhlomin.com/og.png">
<meta name="twitter:card" content="summary_large_image">
</head>
<body>
<div class="common">
    <div class="wrapper">
        <div class="panel">
            <h1>Calendar <a href="https://github.com/chuhlomin/calendar" class="github-icon"></a></h1>
            <form action="" onsubmit="return false">
                <div class="field">
                    <legend>Paper Size</legend>
                    <select name="pageSize" id="pageSize" onchange="changeConfig(this)">
                        <option value="Letter" data-width="216" data-height="279">US Letter (8.50" × 11.00")</option>
                        <option value="Legal" data-width="216" data-height="356">US Legal (8.50" × 14.00")</option>
                        <option value="A4" data-width="210" data-height="297">A4 (210 × 297 mm)</option>
                    </select>
                </div>

                <div class="field">
                    <legend>Month & year</legend>
                    <div class="monthYear">
                        <select name="month" onchange="changeConfig(this)">
                            <option value="-1">All</option>
                            <option value="0" selected>January</option>
                            <option value="1">February</option>
                            <option value="2">March</option>
                            <option value="3">April</option>
                            <option value="4">May</option>
                            <option value="5">June</option>
                            <option value="6">July</option>
                            <option value="7">August</option>
                            <option value="8">September</option>
                            <option value="9">October</option>
                            <option value="10">November</option>
                            <option value="11">December</option>
                        </select>
                        <input type="number" name="year" value="2023" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                    </div>
                </div>

                <div class="field">
                    <legend>First day of week</legend>
                    <label><input type="radio" name="firstDay" value="0" checked onchange="changeConfig(this)"> Sunday</label>
                    <label><input type="radio" name="firstDay" value="1" onchange="changeConfig(this)"> Monday</label>
                </div>

                <fieldset>
                    <legend>Days</legend>

                    <div class="field">
                        <label class="full-width-label">Font family</label>
                        <select class="font" name="daysFontFamily" onchange="changeConfig(this)">
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Font size, pt</span>
                            <input type="number" name="daysFontSize" value="45" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field color">
                        <label class="full-width-label">
                            <span>Color</span>
                            <button name="textColor" type="button"></button>
                        </label>
                    </div>

                    <div class="field color">
                        <label class="full-width-label">
                            <span>Weekends</span>
                            <button name="weekendColor" type="button"></button>
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>X, mm</span>
                            <input type="number" name="daysX" value="40" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Y, mm</span>
                            <input type="number" name="daysY" value="50" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>X step, mm</span>
                            <input type="number" name="daysXStep" value="25" min="1" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Y step, mm</span>
                            <input type="number" name="daysYStep" value="32" min="1" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field">
                        <label class="label">
                            <label>
                                <input type="checkbox" name="showInactiveDays" checked="true" onchange="changeConfig(this)">
                                <span>Show days outside current month</span>
                            </label>
                        </label>
                    </div>

                    <div class="field color">
                        <label class="full-width-label">
                            <span>Inactive</span>
                            <button name="inactiveColor" type="button"></button>
                        </label>
                    </div>
                </fieldset>

                <fieldset id="fs-month">
                    <legend>
                        <label>
                            <input type="checkbox" name="showMonth" checked="true" onchange="changeConfig(this)" data-fieldset="month"> Month
                        </label>
                    </legend>

                    <div class="field">
                        <label class="full-width-label">Font family</label>
                        <select class="font" name="monthFontFamily" onchange="changeConfig(this)">
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Font size, pt</span>
                            <input type="number" name="monthFontSize" value="36" min="1" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field color">
                        <label class="full-width-label">
                            <span>Color</span>
                            <button name="monthColor" type="button"></button>
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Y, mm</span>
                            <input type="number" name="monthY" value="260" min="0" max="500" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>
                </fieldset>

                <fieldset id="fs-weekdays">
                    <legend>
                        <label>
                            <input type="checkbox" name="showWeekdays" checked="true" onchange="changeConfig(this)" data-fieldset="weekdays"> Weekdays
                        </label>
                    </legend>

                    <div class="field">
                        <label class="full-width-label">Font family</label>
                        <select class="font" name="weekdaysFontFamily" onchange="changeConfig(this)">
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Font size, pt</span>
                            <input type="number" name="weekdaysFontSize" value="12" min="1" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field color">
                        <label class="full-width-label">
                            <span>Color</span>
                            <button name="weekdaysColor" type="button"></button>
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>X, mm</span>
                            <input type="number" name="weekdaysX" value="40" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Y, mm</span>
                            <input type="number" name="weekdaysY" value="32" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>
                </fieldset>

                <fieldset id="fs-weeknumbers">
                    <legend>
                        <label>
                            <input type="checkbox" name="showWeekNumbers" checked="true" onchange="changeConfig(this)" data-fieldset="weeknumbers"> Week numbers
                        </label>
                    </legend>

                    <div class="field">
                        <label class="full-width-label">Font family</label>
                        <select class="font" name="weeknumbersFontFamily" onchange="changeConfig(this)">
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Font size, pt</span>
                            <input type="number" name="weeknumbersFontSize" value="16" min="1" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field color">
                        <label class="full-width-label">
                            <span>Color</span>
                            <button name="weeknumbersColor" type="button"></button>
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>X, mm</span>
                            <input type="number" name="weeknumbersX" value="20" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>

                    <div class="field">
                        <label class="full-width-label">
                            <span>Y, mm</span>
                            <input type="number" name="weeknumbersY" value="43" min="0" max="100" onchange="changeConfig(this)" onkeyup="changeConfig(this)" inputmode="numeric" pattern="[0-9]*">
                        </label>
                    </div>
                </fieldset>
            </form>
            <div class="actions">
                <div class="buttons">
                    <button class="btn show-preview" onclick="togglePreview(this)"><span class="may-hide">Show </span>Preview</button>
                    <button class="btn hide-preview" onclick="togglePreview(this)"><span class="may-hide">Hide </span>Preview</button>
                    <button class="btn" onclick="submitForm(this)">Download<span class="may-hide"> PDF</span></button>
                </div>
                <div class="credit">Made by <a href="https://chuhlomin.com/">Konstantin Chukhlomin</a></div>
            </div>
        </div>
        <div class="content">
            <div class="canvas" id="canvas">
                <button class="btn page-nav left" onclick="changeMonth(-1)">←</button>
                <svg id="svg" viewBox="0 0 210 297" preserveAspectRatio="xMidYMid meet">
                    <style id="style"></style>
                    <defs>
                        <filter id="blur" x="0" y="0">
                            <feGaussianBlur stdDeviation="1,2" />
                        </filter>
                        <rect id="rect" fill="white" width="210" height="297"/>
                    </defs>
                    <g id="calendar"></g>
                </svg>
                <button class="btn page-nav right" onclick="changeMonth(1)">→</button>
            </div>
        </div>
    </div>
</div>
<script id="template_styles" type="x-tmpl-mustache">
.loading {
    filter: url(#blur);
}
.day {
    fill: {{ textColor }};
    font-family: "{{ daysFontFamily }}";
    font-size: {{ daysFontSize }}pt;
}
.month {
    fill: {{ monthColor }};
    font-family: "{{ monthFontFamily }}";
    font-size: {{ monthFontSize }}pt;
}
.weekday {
    fill: {{ weekdaysColor }};
    font-family: "{{ weekdaysFontFamily }}";
    font-size: {{ weekdaysFontSize }}pt;
}
.weeknumber {
    fill: {{ weeknumbersColor }};
    font-family: "{{ weeknumbersFontFamily }}";
    font-size: {{ weeknumbersFontSize }}pt;
}
.inactive {
    fill: {{ inactiveColor }};
}
.weekend {
    fill: {{ weekendColor }};
}
</script>
<script id="template_days" type="x-tmpl-mustache">
{{#days}}
    <text x="{{ x }}" y="{{ y }}" class="day{{#inactive}} inactive{{/inactive}}{{ ^inactive}}{{#weekend}} weekend{{/weekend}}{{/inactive}}{{#daysFontFamilyLoading}} loading{{/daysFontFamilyLoading}}" text-anchor="end">
        {{ day }}
    </text>
{{/days}}
</script>
<script id="template_month" type="x-tmpl-mustache">
<text id="month" x="{{ x }}" y="{{ y }}" class="month{{#monthFontFamilyLoading}} loading{{/monthFontFamilyLoading}}" dominant-baseline="middle" text-anchor="middle">
    {{ month }}
</text>
</script>
<script id="template_weekdays" type="x-tmpl-mustache">
{{#weekdays}}
    <text x="{{ x }}" y="{{ y }}" class="weekday{{#weekdaysFontFamilyLoading}} loading{{/weekdaysFontFamilyLoading}}" text-anchor="end">
        {{ day }}
    </text>
{{/weekdays}}
</script>
<script id="template_weeknumbers" type="x-tmpl-mustache">
{{#weeknumbers}}
    <text x="{{ x }}" y="{{ y }}" class="weeknumber{{#weeknumbersFontFamilyLoading}} loading{{/weeknumbersFontFamilyLoading}}" text-anchor="end">
        {{ weeknumber }}
    </text>
{{/weeknumbers}}
</script>
<script src="script.js"></script>
<script src="colr_pickr.min.js"></script>
<script src="mustache.min.js"></script>
</body>
</html>
